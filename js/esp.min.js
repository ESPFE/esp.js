esp={parseDocument:function(){esp.nav.parseDocument(),esp.carousel.parseDocument()},nav:{parseDocument:function(){$(".esp-toggle-nav").click(function(){esp.nav.toggle(this)})},toggle:function(e){$(e.dataset.target).toggleClass(e.dataset.toggleclass),"caret"in e.dataset&&$(e.dataset.caret).toggleClass("nav-expanded")}},adjustMinHeight:function(e,t){var a=$(e).height();$(t).css("min-height",a)},carousel:{data:[],parseDocument:function(){for(var e=$(".esp-carousel"),t=0;t<e.length;t++){var a=$(e[t]).find("img");esp.carousel.data[t]=[],esp.carousel.data[t].images=a,esp.carousel.data[t].current=0;var n=$(e[t]).find(".esp-next");n.attr("data-espcarouselindex",t);var s=$(e[t]).find(".esp-prev");for(s.attr("data-espcarouselindex",t),$(n).click(function(){esp.carousel.loadNext(this)}),$(s).click(function(){esp.carousel.loadPrev(this)}),n=0;n<a.length;n++)esp.events.swipedetect(a[n],function(e,t){"left"===e?(esp.carousel.loadNext(t.currentTarget),t.preventDefault()):"right"===e&&(esp.carousel.loadPrev(t.currentTarget),t.preventDefault())})}},loadNext:function(e){e=e.dataset.espcarouselindex;var t=esp.carousel.data[e].current,a=esp.carousel.data[e].images[t],t=t+1;t>=esp.carousel.data[e].images.length&&(t=0);var n=esp.carousel.data[e].images[t];esp.carousel.data[e].current=t,$(a).toggleClass("esp-show"),$(n).toggleClass("esp-show")},loadPrev:function(e){e=e.dataset.espcarouselindex;var t=esp.carousel.data[e].current,a=esp.carousel.data[e].images[t],t=t-1;0>t&&(t=esp.carousel.data[e].images.length-1);var n=esp.carousel.data[e].images[t];esp.carousel.data[e].current=t,$(a).toggleClass("esp-show"),$(n).toggleClass("esp-show")}},events:{swipedetect:function(e,t,a){var n,s,r,o,l,p,i,d=t||function(e){};e.addEventListener("touchstart",function(e){var t=e.changedTouches[0];n="none",dist=0,s=t.pageX,r=t.pageY,i=(new Date).getTime(),a&&e.preventDefault()},!1),e.addEventListener("touchmove",function(e){a&&e.preventDefault()},!1),e.addEventListener("touchend",function(e){var t=e.changedTouches[0];o=t.pageX-s,l=t.pageY-r,p=(new Date).getTime()-i,300>=p&&(150<=Math.abs(o)&&100>=Math.abs(l)?n=0>o?"left":"right":150<=Math.abs(l)&&100>=Math.abs(o)&&(n=0>l?"up":"down")),d(n,e),a&&e.preventDefault()},!1)}},yt:{players:[],playingId:null,iframeClass:"esp-yt-video",startClass:"esp-yt-start",stopClass:"esp-yt-stop",startStopClass:"esp-yt-start-stop",parseDocument:function(){for(var e=$("."+this.iframeClass),t=$("."+this.startClass),a=$("."+this.stopClass),n=$("."+this.startStopClass),s=0;s<e.length;s++){var r=e[s].id;this.players[r]=new YT.Player(r),this.players[r].addEventListener("onStateChange",function(e){e.data===YT.PlayerState.ENDED&&(esp.yt.playingId=null),e.data===YT.PlayerState.PLAYING&&(e=e.target.a.id,esp.yt.playingId!==e&&(esp.yt.players[esp.yt.playingId].pauseVideo(),esp.yt.playingId=e))})}t.click(function(){esp.yt.start(this)}),a.click(function(){esp.yt.stop(this)}),n.click(function(){esp.yt.startStop(this)})},start:function(e,t){var a=e.dataset.for;return null!==esp.yt.playingId&&esp.yt.players[esp.yt.playingId].pauseVideo(),esp.yt.playingId=a,esp.yt.players[a].playVideo(),t&&t(e),!1},stop:function(e,t){var a=e.dataset.for;return esp.yt.playingId===a&&(esp.yt.players[a].pauseVideo(),esp.yt.playingId=null),t&&t(e),!1},startStop:function(e,t){var a=e.dataset.for;return esp.yt.playingId===a?(esp.yt.players[a].pauseVideo(),esp.yt.playingId=null):(null!==esp.yt.playingId&&esp.yt.players[esp.yt.playingId].pauseVideo(),esp.yt.playingId=a,esp.yt.players[a].playVideo()),t&&t(e),!1}},calendar:{dowLabels:["Mon Tue Wed Thu Fri Sat Sun".split(" "),"Mo Di Mi Do Fr Sa So".split(" ")],monthLabels:["January February March April May June July August September October November December".split(" "),"Januar Februar MÃ¤rz April Mai Juni Juli August September Oktober November Dezember".split(" ")],createAsTable:function(e,t,a,n){n=void 0===n?0:n;var s=$(a);if(1>s.length)return console.log("can not find id "+a),!1;s.prepend('<caption><span class="esp-calendar-headline"></span></caption>');for(var r="<thead><tr>",o=0;7>o;o++)r=r+"<td>"+esp.calendar.dowLabels[n][o]+"</td>";s.append(r+"</tr></thead>"),s.append("<tbody></tbody>"),esp.calendar.loadMonth(e,t,a,n)},injectPrevMonthButton:function(e,t){t=void 0===t?'<i class="fa fa-chevron-left esp-calendar-prev"></i>':t;var a=$(e+" caption");return 1>a.length?(console.log("can not find id "+e),!1):void a.prepend(t)},injectNextMonthButton:function(e,t){t=void 0===t?'<i class="fa fa-chevron-right esp-calendar-next"></i>':t;var a=$(e+" caption");return 1>a.length?(console.log("can not find id "+e),!1):void a.append(t)},loadMonth:function(e,t,a,n){if(n=void 0===n?0:n,0>e||11<e)return console.log("Invalid value for month (0-11)"),!1;var s=$(a);if(1>s.length)return console.log("can not find id "+a),!1;var r=new Date;a=r.getDate();var o=r.getMonth(),r=r.getYear()+1900,l=new Date(t,e,1).getDay(),l=0<l?l-1:6,p=31;3!=e&&5!=e&&8!=e&&10!=e||(p=30),1==e&&(p=28,0==t%4&&p++,0==t%100&&p--,0==t%400&&p++),s.data("currentmonth",e),s.data("currentyear",t),n=esp.calendar.monthLabels[n][e]+" "+t,s.find("caption .esp-calendar-headline").html(n),n="";for(var i=0,d=1;d<=p;i++){n+="<tr>";for(var c=0;7>c;c++)0==i&&6>c&&c<l||d>p?n+="<td> </td>":(n=t==r&&e==o&&d==a?n+'<td class="esp-calendar-today">'+d+"</td>":n+"<td>"+d+"</td>",d+=1);n+="</td>"}s.find("tbody").html(n)},loadPrevMonth:function(e){var t=$(e);if(1>t.length)return console.log("can not find id "+e),!1;var a=t.data("currentmonth")-1,t=t.data("currentyear");return 0>a&&(a=11,--t),esp.calendar.loadMonth(a,t,e)},loadNextMonth:function(e){var t=$(e);if(1>t.length)return console.log("can not find id "+e),!1;var a=t.data("currentmonth")+1,t=t.data("currentyear");return 11<a&&(a=0,t+=1),esp.calendar.loadMonth(a,t,e)}}},$(document).ready(function(){esp.parseDocument()});